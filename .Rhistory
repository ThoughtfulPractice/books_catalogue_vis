knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
install.packages('tidyverse')
library(tidyverse)
data <- read.csv('data/tidy/books.csv')
View(data)
data %>% filter('ownership'=='His')
data %>% filter(ownership=='His')
data %>%
filter(ownership=='His') %>%
summarise(has_read = count(he_has_read))
data %>%
filter(ownership=='His') %>%
summarise(has_read = sum(he_has_read))
data %>%
filter(ownership=='His') %>%
summarise(count = n(),
has_read = sum(he_has_read))
data %>%
filter(ownership=='His') %>%
summarise(count = n(),
he_has_read = sum(he_has_read),
has_googlebooks_data = sum(has_googlebooks_data),
has_openbooks_data = sum(has_openbooks_data))
data %>%
filter(ownership=='His') %>%
summarise(count = n(),
he_has_read = sum(he_has_read),
has_googlebooks_data = sum(has_googlebooks_data, na.rm=TRUE),
has_openbooks_data = sum(has_openbooks_data, na.rm=TRUE))
install.packages('wordcloud')
corp <- data['category']
corp <- data[['category','categories','subjects']]
corp <- data['category','categories','subjects']
corp <- data %>% select(category,categories,subjects)
corp <- tm_map(corp, removePunctuation)
library(tm)
install.packages('tm')
library(tm)
corp <- tm_map(corp, removePunctuation)
corp <- tm::tm_map(corp, removePunctuation)
Corpus(VectorSource(corp))
categories_corp <- data %>% select(categories)
corp <- tm::tm_map(categories_corp, removePunctuation)
corp <- Corpus(VectorSource(df$categories))
corp <- tm::tm_map(categories_corp, removePunctuation)
corp <- Corpus(VectorSource(df$categories))
corp <- Corpus(VectorSource(data$categories))
corp <- tm::tm_map(categories_corp, removePunctuation)
corp <- tm::tm_map(corp, removePunctuation)
r
corp <- Corpus(VectorSource(
data %>% select(categories, category, subjects)
))
corp <- tm::tm_map(corp, removePunctuation)
corp <- Corpus(VectorSource(
data %>% select(categories, category, subjects)
))
corp <- tm::tm_map(corp, removePunctuation)
corp <- tm::tm_map(corp, content_transformer(tolower))
corp <- tm::tm_map(corp, removeNumbers)
corp <- tm::tm_map(corp, function(x)removeWords(x,stopwords()))
term.matrix <- TermDocumentMatrix(corp)
term.matrix <- as.matrix(term.matrix)
colnames(term.matrix) <- c("SOTU 2010","SOTU 2011")
colnames(term.matrix) <- c("AB","CD","EF")
comparison.cloud(term.matrix,max.words=40,random.order=FALSE)
library(wordcloud)
comparison.cloud(term.matrix,max.words=40,random.order=FALSE)
commonality.cloud(term.matrix,max.words=40,random.order=FALSE,
title.colors=c("red","blue"),title.bg.colors=c("grey40","grey70"))
comparison.cloud(term.matrix,max.words=40,random.order=FALSE,
match.colors=TRUE)
View(corp)
wordcloud(term.matrix,max.words=40,random.order=FALSE)
wordcloud(corp,max.words=40,random.order=FALSE)
View(corp)
inspect(corp)
corp <- Corpus(VectorSource(
data %>% select(categories)
))
corp <- tm::tm_map(corp, removePunctuation)
corp <- tm::tm_map(corp, content_transformer(tolower))
corp <- tm::tm_map(corp, removeNumbers)
corp <- tm::tm_map(corp, function(x)removeWords(x,stopwords()))
inspect(corp)
wordcloud(corp,max.words=40,random.order=FALSE)
corp <- Corpus(VectorSource(
data %>% select(categories)
))
inspect(corp)
data %>% select(categories)
corp <- Corpus(VectorSource(
data %>%
mutate(chr=as.character(categories)) %>%
select(chr)
))
inspect(corp)
corp <- tm::tm_map(corp, removePunctuation)
corp <- tm::tm_map(corp, content_transformer(tolower))
corp <- tm::tm_map(corp, removeNumbers)
corp <- tm::tm_map(corp, function(x)removeWords(x,stopwords()))
inspect(corp)
wordcloud(corp,max.words=40,random.order=FALSE)
term.matrix <- TermDocumentMatrix(corp)
term.matrix <- as.matrix(term.matrix)
colnames(term.matrix) <- c("AB","CD","EF")
colnames(term.matrix) <- c("AB","CD")
wordcloud(term.matrix,max.words=40,random.order=FALSE)
wordcloud(term.matrix,max.words=40,random.order=FALSE)
term.matrix <- TermDocumentMatrix(corp)
term.matrix <- as.matrix(term.matrix)
wordcloud(term.matrix,max.words=40,random.order=FALSE)
inspect(corp)
comparison.cloud(term.matrix,max.words=40,random.order=FALSE)
wordcloud(corp,max.words=40,random.order=FALSE)
wordcloud(corp,scale=c(2,0.5),max.words=40,random.order=FALSE)
wordcloud(corp,scale=c(2,0.5),max.words=20,random.order=FALSE)
wordcloud(corp,scale=c(2,0.5),max.words=10,random.order=FALSE)
inspect(corp)
wordcloud(corp,scale=c(1,0.5),max.words=10,random.order=FALSE)
wordcloud(corp,scale=c(1,0.2),max.words=10,random.order=FALSE)
wordcloud(corp,scale=c(1,0.2),max.words=5,random.order=FALSE)
term.matrix <- as.matrix(term.matrix)
term.matrix <- TermDocumentMatrix(corp)
term.matrix <- as.matrix(term.matrix)
View(term.matrix)
wordcloud(term.matrix,scale=c(1,0.2),max.words=5,random.order=FALSE)
term.matrix[0]
term.matrix?
term.matrix??
term.matrix?
term.matrix <- TermDocumentMatrix(corp)
term.matrix <- TermDocumentMatrix(corp)
View(term.matrix)
term.matrix <- as.matrix(term.matrix)
